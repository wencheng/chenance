<assembly>
	<id>macosx</id>
	<includeBaseDirectory>false</includeBaseDirectory>
	<formats>
		<format>dir</format>
	</formats>
	<fileSets>
    	<fileSet>
      		<directory>bin/macosx</directory>
      		<outputDirectory>Chenance.app/Contents</outputDirectory>
      		<includes>
      			<include>**/**</include>
      		</includes>
    	</fileSet>
  	</fileSets>
  	<files>
  		<file>
			<source>bin/macosx/MacOS/chenance</source>
			<outputDirectory>Chenance.app/Contents/MacOS</outputDirectory>
			<fileMode>0755</fileMode>
  		</file>
  		<file>
			<source>../gui/target/chenance-gui-${version}.jar</source>
			<outputDirectory>Chenance.app/Contents/MacOS</outputDirectory>
			<destName>chenance.jar</destName>
  		</file>
  	</files>
  	<moduleSets>
		<moduleSet>
			<includes>
				<include>cn.sh.fang.chenance:chenance-gui</include>
				<include>cn.sh.fang.chenance:chenance-data</include>
			</includes>
			<binaries>
				<outputDirectory>Chenance.app/Contents/MacOS</outputDirectory>
				<unpack>false</unpack>
				<dependencySets>
					<dependencySet>
						<outputDirectory>Chenance.app/Contents/MacOS/lib</outputDirectory>
					</dependencySet>
				</dependencySets>
				<excludes>
        			<exclude>**/chenance-gui*.jar</exclude>
			    </excludes>
			</binaries>
		</moduleSet>
	</moduleSets>
</assembly>